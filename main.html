<!DOCTYPE html> 
<html> 
	<head> 
	<title>My Page</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.1.1/jquery.mobile-1.1.1.min.js"></script>
    <script>
        var repCounter = 0;
        var sCountdownTimer = 0;
        var countdownCompletionHandler;
        var sDefaultCountdownDuration = 30;

        $(document).bind('pageinit', function() {
            //$("#repCounter").buttonMarkup({corners: false});
            //console.log("repCounter = " + repCounter);

            $("#repCounter").bind("vclick", function(event, ui) {
                repCounter++;
                $("#repCounter").val(repCounter);
                $("#repCounter").button('refresh');
            });

            startCountdown(5);
        });

        function startCountdown(sDuration, completionHandler) {
            if (sDuration) {
                sCountdownTimer = sDuration;
            } else {
                sCountdownTimer = sDefaultCountdownDuration;
            }

            if (completionHandler) {
                //use supplied handler
                countdownCompletionHandler = completionHandler;
            } else {
                //use default handler
                countdownCompletionHandler = stopCountdown;
            }

            countdownTick();
        }

        function stopCountdown() {
            console.log("sc Countdown complete.");
        }

        function countdownTick() {
            sCountdownTimer--;
            if (sCountdownTimer > 0) {
                console.log(sCountdownTimer);
                setTimeout(countdownTick, 1000);
            } else {
                console.log("reset timer");
                sCountdownTimer = sDefaultCountdownDuration;
                countdownCompletionHandler();
            }
        }
    </script>
</head> 
<body> 

<div data-role="page">

	<div data-role="header">
		<h1>My Title</h1>
	</div><!-- /header -->

	<div data-role="content">	
		<p>Hello world</p>		
<input type="button" value="0" id="repCounter" />
        <!--<a href="#" data-role="button" data-icon="star" id="repCounter">0</a>-->
        <ul data-role="listview" data-inset="true" data-filter="true">
            <li><a href="#">Test Item 1</a></li>
            <li><a href="#">Test Item 2</a></li>
        </ul>

	</div><!-- /content -->

</div><!-- /page -->

</body>
</html>
